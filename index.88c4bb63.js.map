{"mappings":"YAAA,IAAMA,EAAY,+BACZC,EACJ,yECAIC,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,QAASJ,SAASC,cAAc,cAElCH,EAAKC,YAAYM,iBAAiB,UAAU,SAAAC,GAE1CR,EAAKK,MAAMI,UAAUC,OAAO,WAG5BV,EAAKI,OAAOK,UAAUE,IAAI,WAC1BX,EAAKM,QAAQG,UAAUE,IAAI,gBAE3B,IDH6BC,ECGvBC,EAAcL,EAAEM,OAAOC,QAAQP,EAAEM,OAAOE,eAAeC,ODHhCL,ECIbC,EDHTK,MACL,GAAuCC,OAApCrB,EAAS,6BAA8CqB,OAAnBP,EAAQ,aAAmBO,OAARpB,IAC1DqB,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAEZ,OAAOF,EAASG,M,KCFfJ,MAAK,SAAAK,GACJ,IAAMC,EAASD,EAAK,GAAGE,IACjBC,EAAUH,EAAK,GAAGI,OAAO,GAQ/B,MAPkB,CAChBC,KAAMF,EAAQE,KACdC,YAAaH,EAAQG,YACrBC,YAAaJ,EAAQI,YACrBC,OAAQL,EAAQM,UAChBC,IAAKT,E,IAIRN,MAAK,SAAAgB,G,IAAGN,EAAIM,EAAJN,KAAMC,EAAWK,EAAXL,YAAaC,EAAWI,EAAXJ,YAAaC,EAAMG,EAANH,OAAQE,EAAGC,EAAHD,IAC/CE,QAAQC,IAAIH,GACZ,IAAMI,EAAM,gCACWpB,OADqBW,GAAQ,WAAW,sCAErDX,OADaY,EAAY,wBAEjCZ,OADQgB,EAAI,uBAGXhB,OAFDc,GAAU,MACX,eAC+Bd,OAA7Ba,GAAe,cAAc,cAChChC,EAAKM,QAAQG,UAAUC,OAAO,gBAE9BV,EAAKM,QAAQkC,UAAYD,C,IAE1BE,OAAM,SAAApC,GACLqC,MACE,yHAEF1C,EAAKM,QAAQG,UAAUE,IAAI,gBAG3BX,EAAKK,MAAMI,UAAUE,IAAI,U,IAE1BgC,SAAQ,WAEP3C,EAAKI,OAAOK,UAAUC,OAAO,U,OAKnCV,EAAKI,OAAOK,UAAUE,IAAI,WDrDjBO,MAAM,GAA8BC,OAA3BrB,EAAS,oBAA0BqB,OAARpB,IAAWqB,MAAK,SAAAC,GACzD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAEZ,OAAOF,EAASG,M,ICoDjBJ,MAAK,SAAAK,GAQJ,OANAmB,aAAenB,EAAKoB,KAAI,SAAArC,GAGtB,MAFe,CAAEsB,KAAMtB,EAAEsB,KAAMgB,GAAItC,EAAEsC,G,IAKhCF,Y,IAERxB,MAAK,SAAAK,GACJ,IAAMsB,EAAoBtB,EAkBJoB,KAAI,SAAArC,GAC1B,MAAO,kBAA2BW,OAATX,EAAEsC,GAAG,MAAW3B,OAAPX,EAAEsB,KAAK,Y,IAjBzC9B,EAAKC,YAAYQ,UAAUC,OAAO,gBAClCV,EAAKC,YAAY+C,mBAAmB,YAAaD,EAAOE,KAAK,I,IAE9DR,OAAM,SAAApC,GACLqC,MACE,iGAEF1C,EAAKI,OAAOK,UAAUC,OAAO,U,IAE9BiC,SAAQ,WAEP3C,EAAKI,OAAOK,UAAUC,OAAO,U","sources":["src/js/cat-api.js","src/js/main.js"],"sourcesContent":["const BASE_URL = `https://api.thecatapi.com/v1`;\nconst API_KEY =\n  ' live_AqVAdbSI3iq6qvheU2btDbPvPUx4FhPf0KO84Ew4BtwLMszLCefwpjCjD6X1ksjH';\n\nexport const fetchBreeds = () => {\n  return fetch(`${BASE_URL}/breeds?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\n\nexport const fetchCatByBreed = breedId => {\n  return fetch(\n    `${BASE_URL}/images/search?breed_ids=${breedId}&api_key=${API_KEY}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n  catInfo: document.querySelector('.cat-info'),\n};\nrefs.breedSelect.addEventListener('change', e => {\n  // Hide any previous error message\n  refs.error.classList.remove('visible');\n\n  // Show the loader\n  refs.loader.classList.add('visible');\n  refs.catInfo.classList.add('el_disp_none');\n\n  const optionValue = e.target.options[e.target.selectedIndex].value;\n  fetchCatByBreed(optionValue)\n    .then(data => {\n      const catImg = data[0].url;\n      const dataCat = data[0].breeds[0];\n      const selectCat = {\n        name: dataCat.name,\n        temperament: dataCat.temperament,\n        description: dataCat.description,\n        imgAlt: dataCat.alt_names,\n        img: catImg,\n      };\n      return selectCat;\n    })\n    .then(({ name, temperament, description, imgAlt, img }) => {\n      console.log(img);\n      const cat = `<div class = \"container\"><h2>${name || 'cat name'}</h2>\n    <p><b>Temperament: </b>${temperament}</p>\n    <img src=\"${img}\" width=\"500\" alt=\"${\n        imgAlt || 'cat'\n      }\">\n    <p>${description || 'description'}</p></div>`;\n      refs.catInfo.classList.remove('el_disp_none');\n\n      refs.catInfo.innerHTML = cat;\n    })\n    .catch(error => {\n      alert(\n        'Упс, схоже виникла помилка, спробуйте перезавантажити сторінку, якщо це не допоможе то спробуйте обрати іншого котика'\n      );\n      refs.catInfo.classList.add('el_disp_none');\n\n      // Show the error message\n      refs.error.classList.add('visible');\n    })\n    .finally(() => {\n      // Hide the loader\n      refs.loader.classList.remove('visible');\n    });\n});\n\n// Show the loader when fetching the breed list\nrefs.loader.classList.add('visible');\n\nfetchBreeds()\n  .then(data => {\n    // filter to only include those with an `image` object\n    storedBreeds = data.map(e => {\n      const nameId = { name: e.name, id: e.id };\n      // console.log(nameId);\n      return nameId;\n    });\n    // console.log(storedBreeds);\n    return storedBreeds;\n  })\n  .then(data => {\n    const option = showSelect(data);\n    // console.log(option);\n    refs.breedSelect.classList.remove('el_disp_none');\n    refs.breedSelect.insertAdjacentHTML('beforeend', option.join(''));\n  })\n  .catch(error => {\n    alert(\n      'Упс, схоже сайт не працює або у вас проблеми з інтернетом, спробуйте перезавантажити сторінку'\n    );\n    refs.loader.classList.remove('visible');\n  })\n  .finally(() => {\n    // Hide the loader\n    refs.loader.classList.remove('visible');\n    // Show the breed select\n  });\n\nfunction showSelect(massName) {\n  const option = massName.map(e => {\n    return `<option value=\"${e.id}\">${e.name}</option>`;\n  });\n  return option;\n}\n"],"names":["$8994e83c1b13b9e2$var$BASE_URL","$8994e83c1b13b9e2$var$API_KEY","$089c40fcbb903d20$var$refs","breedSelect","document","querySelector","loader","error","catInfo","addEventListener","e","classList","remove","add","breedId","optionValue","target","options","selectedIndex","value","fetch","concat","then","response","ok","Error","json","data","catImg","url","dataCat","breeds","name","temperament","description","imgAlt","alt_names","img","param","console","log","cat","innerHTML","catch","alert","finally","storedBreeds","map","id","option","insertAdjacentHTML","join"],"version":3,"file":"index.88c4bb63.js.map"}